# ===================================
# Environment Variables
# ===================================
# Copy this file to .env and adjust the values for your setup

# -----------------------------------
# PocketBase API URL
# -----------------------------------
# This variable determines how the frontend connects to PocketBase
# Basically no need to change.
# Set to the backend service name for server-side calls:
PUBLIC_POCKETBASE_URL=http://backend:8090
#If you want to do development, uncomment this
#PUBLIC_POCKETBASE_URL=http://127.0.0.0:8090

# -----------------------------------
# PocketBase Admin Account
# -----------------------------------
# Set these to automatically create/update an admin account on first run
# Access the admin panel at http://localhost:8090/_/
# These credentials are also used for the first app admin user
POCKETBASE_ADMIN_EMAIL=admin@example.com
POCKETBASE_ADMIN_PASSWORD=changeme123

# -----------------------------------
# Instance Limits (Global Caps)
# -----------------------------------
# These limits override any project-level settings

# Maximum concurrent projects being processed (1 = free tier, only one project at a time)
INSTANCE_MAX_CONCURRENT_PROJECTS=1

# Maximum parallel LLM requests per project (caps project settings.maxConcurrency)
INSTANCE_MAX_PARALLEL_REQUESTS=10

# Maximum requests per minute per project (caps project settings.maxRequestsPerMinute)
INSTANCE_MAX_REQUESTS_PER_MINUTE=60

# -----------------------------------
# Predefined LLM Endpoints (Optional)
# -----------------------------------
# JSON array of LLM endpoints to pre-configure
# These are synced to the database on startup
# Admin can enable/disable them but not delete
# Example:
# PREDEFINED_ENDPOINTS='[{"alias":"OpenAI GPT-4o","endpoint":"https://api.openai.com/v1/chat/completions","apiKey":"sk-...","model":"gpt-4o","maxInputTokensPerDay":500000,"maxOutputTokensPerDay":250000}]'

# -----------------------------------
# SvelteKit Body Size Limit
# -----------------------------------
# Maximum request body size (for image uploads)
# Default: 50M
BODY_SIZE_LIMIT=50M

# -----------------------------------
# PocketBase Batch API Settings
# -----------------------------------
# Enable batch operations for better performance (reduces HTTP requests)
# These are applied on PocketBase startup via pb_hooks
PB_BATCH_ENABLED=true
# Maximum number of operations per batch request
PB_BATCH_MAX_REQUESTS=100
# Timeout in seconds for batch operations
PB_BATCH_TIMEOUT=30
# Maximum body size in bytes (default: 128MB)
PB_BATCH_MAX_BODY_SIZE=134217728
